<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pixel bonk emulator</title>
  <style>
    body {
      background: url('1.jpg') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      font-family: 'Press Start 2P', 'Consolas', monospace;
      color: #fff;
      image-rendering: pixelated;
      overflow: hidden; 
    }
    .taskbar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100vw;
      height: 48px;
      background: #222;
      border-top: 4px solid #444;
      display: flex;
      align-items: center;
      z-index: 100;
      box-shadow: 0 -2px 0 #000;
    }
    .start-menu {
      background: #333;
      border: 2px solid #fff;
      border-radius: 0;
      position: absolute;
      left: 0;
      bottom: 48px;
      width: 220px;
      display: none;
      flex-direction: column;
      box-shadow: 4px 4px 0 #000;
    }
    .start-menu.active {
      display: flex;
    }
    .start-btn {
      background: #444;
      color: #fff;
      border: 2px solid #fff;
      border-radius: 0;
      font-size: 18px;
      padding: 8px 18px;
      margin: 0 8px;
      cursor: pointer;
      font-family: inherit;
      box-shadow: 2px 2px 0 #000;
    }
    .taskbar-icons {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-left: 16px;
    }
    .icon {
      width: 32px;
      height: 32px;
      background: #222;
      border: 2px solid #fff;
      box-shadow: 2px 2px 0 #000;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
    }
    .icon-label {
      font-size: 13px;
      color: #fff;
      text-align: center;
      margin-top: 6px;
      text-shadow: 1px 1px 0 #000;
      word-break: break-all;
    }
    .desktop {
      display: grid;
      grid-template-columns: repeat(4, 96px);
      grid-auto-rows: 110px;
      gap: 24px 32px;
      padding: 48px 0 0 48px;
      width: max-content;
      max-width: 100vw;
      max-height: calc(100vh - 60px);
     
      position: absolute;
      left: 0; right: 0; top: 0; bottom: 0;
      margin: auto;
    }
    .desktop-icon {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 96px;
      height: 110px;
      cursor: pointer;
      user-select: none;
    }

    .pixel-folder {
      width: 24px;
      height: 18px;
      background: #f9d423;
      border: 2px solid #b8860b;
      position: relative;
      margin-bottom: 2px;
    }
    .pixel-folder::before {
      content: '';
      display: block;
      width: 10px;
      height: 6px;
      background: #ffe066;
      border: 2px solid #b8860b;
      position: absolute;
      left: -4px;
      top: -8px;
    }
    .pixel-notepad {
      width: 18px;
      height: 22px;
      background: #fff;
      border: 2px solid #888;
      position: relative;
      margin-bottom: 2px;
    }
    .pixel-notepad::after {
      content: '';
      display: block;
      width: 14px;
      height: 2px;
      background: #b0e0e6;
      position: absolute;
      left: 2px;
      top: 4px;
    }
    .pixel-chat {
      width: 22px;
      height: 18px;
      background: #fff;
      border: 2px solid #008080;
      position: relative;
      margin-bottom: 2px;
    }
    .pixel-chat::after {
      content: '';
      display: block;
      width: 8px;
      height: 8px;
      background: #008080;
      position: absolute;
      left: 12px;
      top: 8px;
      border-radius: 2px;
    }
    .pixel-chat-label {
      font-size: 10px;
      color: #008080;
      font-weight: bold;
      text-shadow: 1px 1px 0 #fff;
      margin-top: -2px;
    }
    
    .menu-bar {
      background: #222;
      color: #fff;
      display: flex;
      padding: 0 16px;
      height: 32px;
      align-items: center;
      border-bottom: 2px solid #444;
      font-size: 14px;
      gap: 24px;
      box-shadow: 0 2px 0 #000;
    }
    .menu-item {
      cursor: pointer;
      padding: 0 8px;
      border-radius: 0;
      transition: background 0.1s;
    }
    .menu-item:hover {
      background: #444;
    }
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    
    html, body, * {
      cursor: auto !important;
    }

    #boot-screen {
      position:fixed;
      z-index:9999;
      left:0; top:0; width:100vw; height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      background:#003399;
      pointer-events:auto;
    }
  </style>
</head>
<body>
  <div class="menu-bar">
    <div class="menu-item">file</div>
    <div class="menu-item">edit</div>
    <div class="menu-item">View</div>
    <div class="menu-item">Help</div>
  </div>
  <div class="desktop">
    <div class="desktop-icon" id="my-computer-icon">
      <img src="q.png" alt="My computer" style="width:64px;height:64px;display:block;" />
      <div class="icon-label">My computer</div>
    </div>
<div class="desktop-icon" id="bonk-x-icon">
      <img src="e.png" alt="X" style="width:64px;height:64px;display:block;" />
      <div class="icon-label">Bonk Xr</div>
    </div>
    <div class="desktop-icon" id="control-panel-icon">
      <img src="w.png" alt="control panel" style="width:64px;height:64px;display:block;" />
      <div class="icon-label">control panel</div>
    </div>
    <div class="desktop-icon">
    <img src="r.png" alt="recycle bin" style="width:64px;height:64px;display:block;" />
      <div class="icon-label">recycle bin</div>
    </div>
    <div class="desktop-icon" id="chat-desktop-icon">
      <img src="2.png" alt="chat" style="width:64px;height:64px;display:block;" />
      <div class="icon-label">BonkHouse</div>
    </div>
  <div class="desktop-icon" id="letsBONK.fun">
    <img src="t.png" alt="letsBONK.fun" style="width:64px;height:64px;display:block;" />
      <div class="icon-label">letsBONK.fun</div>
    </div>
  </div>

  <div id="bonk-chat-window" style="display:none; position:fixed; left:40px; top:40px; width:1450px; height:900px; z-index:200; box-shadow:8px 8px 0 #000; border:4px solid #fff; background:#fff; border-radius:0;">
    <div style="background:#444; color:#fff; font-family:'Press Start 2P',monospace; border-bottom:2px solid #fff; height:38px; display:flex; align-items:center; justify-content:space-between; padding:0 18px; cursor:move;">
      <span style="font-size:16px; letter-spacing:1px;">Bonk chat room</span>
      <button id="close-bonk-chat-window" style="background:#b22222; color:#fff; border:2px solid #fff; font-family:inherit; font-size:16px; width:32px; height:32px; cursor:pointer; box-shadow:2px 2px 0 #000;">X</button>
    </div>
    <iframe id="bonk-chat-iframe" src="index (6).html" style="width:100%;height:calc(100% - 38px);border:none;"></iframe>
  </div>
 
  <div id="letsbonk-window" style="display:none; position:fixed; left:80px; top:80px; width:1450px; height:900px; z-index:201; box-shadow:8px 8px 0 #000; border:4px solid #fff; background:#fff; border-radius:0;">
    <div style="background:#444; color:#fff; font-family:'Press Start 2P',monospace; border-bottom:2px solid #fff; height:38px; display:flex; align-items:center; justify-content:space-between; padding:0 18px; cursor:move;">
      <span style="font-size:16px; letter-spacing:1px;">letsBONK.fun</span>
      <button id="close-letsbonk-window" style="background:#b22222; color:#fff; border:2px solid #fff; font-family:inherit; font-size:16px; width:32px; height:32px; cursor:pointer; box-shadow:2px 2px 0 #000;">X</button>
    </div>
    <iframe id="letsbonk-iframe" src="https://letsbonk.fun/" style="width:100%;height:calc(100% - 38px);border:none;"></iframe>
  </div>

  <!-- Bonk X Window -->
  <div id="bonkx-window" style="display:none; position:fixed; left:120px; top:120px; width:1450px; height:900px; z-index:202; box-shadow:8px 8px 0 #000; border:4px solid #fff; background:#fff; border-radius:0;">
    <div style="background:#444; color:#fff; font-family:'Press Start 2P',monospace; border-bottom:2px solid #fff; height:38px; display:flex; align-items:center; justify-content:space-between; padding:0 18px; cursor:move;">
      <span style="font-size:16px; letter-spacing:1px;">Bonk X - @bonk_fun</span>
      <button id="close-bonkx-window" style="background:#b22222; color:#fff; border:2px solid #fff; font-family:inherit; font-size:16px; width:32px; height:32px; cursor:pointer; box-shadow:2px 2px 0 #000;">X</button>
    </div>
    <iframe id="bonkx-iframe" src="https://x.com/bonk_fun/status/1915831339221164537" style="width:100%;height:calc(100% - 38px);border:none;"></iframe>
  </div>

  <!-- Control Panel Window -->
  <div id="control-panel-window" style="display:none; position:fixed; left:160px; top:160px; width:800px; height:600px; z-index:203; box-shadow:8px 8px 0 #000; border:4px solid #fff; background:#e3e3e3; border-radius:0;">
    <div style="background:#444; color:#fff; font-family:'Press Start 2P',monospace; border-bottom:2px solid #fff; height:38px; display:flex; align-items:center; justify-content:space-between; padding:0 18px; cursor:move;">
      <span style="font-size:16px; letter-spacing:1px;">Control Panel</span>
      <button id="close-control-panel-window" style="background:#b22222; color:#fff; border:2px solid #fff; font-family:inherit; font-size:16px; width:32px; height:32px; cursor:pointer; box-shadow:2px 2px 0 #000;">X</button>
    </div>
    <div style="padding:24px; color:#222; font-size:13px; line-height:1.7; background:#e3e3e3; max-height:calc(100% - 38px); overflow:auto; font-family:'Press Start 2P',monospace;">
      <!-- System Information Section -->
      <div style="background:#fff; border:2px solid #888; box-shadow:2px 2px 0 #000; margin-bottom:20px; padding:16px;">
        <div style="font-size:15px; color:#003399; font-weight:bold; margin-bottom:12px; border-bottom:2px solid #ddd; padding-bottom:8px;">System Properties</div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px;">
          <div>
            <div style="color:#008080; font-weight:bold; margin-bottom:4px;">Computer:</div>
            <div style="color:#444; margin-bottom:8px;">Pixel Desktop XP</div>
            <div style="color:#008080; font-weight:bold; margin-bottom:4px;">Processor:</div>
            <div style="color:#444; margin-bottom:8px;">Intel Pentium 4 3.0GHz</div>
            <div style="color:#008080; font-weight:bold; margin-bottom:4px;">Memory (RAM):</div>
            <div style="color:#444;">1024 MB</div>
          </div>
          <div>
            <div style="color:#008080; font-weight:bold; margin-bottom:4px;">System:</div>
            <div style="color:#444; margin-bottom:8px;">Windows XP Professional</div>
            <div style="color:#008080; font-weight:bold; margin-bottom:4px;">Graphics:</div>
            <div style="color:#444; margin-bottom:8px;">NVIDIA GeForce FX 5200</div>
            <div style="color:#008080; font-weight:bold; margin-bottom:4px;">Sound:</div>
            <div style="color:#444;">AC'97 Audio</div>
          </div>
        </div>
      </div>

      <!-- Performance Section -->
      <div style="background:#fff; border:2px solid #888; box-shadow:2px 2px 0 #000; margin-bottom:20px; padding:16px;">
        <div style="font-size:15px; color:#003399; font-weight:bold; margin-bottom:12px; border-bottom:2px solid #ddd; padding-bottom:8px;">Performance Monitor</div>
        
        <div style="margin-bottom:16px;">
          <div style="color:#008080; font-weight:bold; margin-bottom:6px;">CPU Usage:</div>
          <div style="background:#222; border:2px solid #888; height:20px; position:relative; box-shadow:inset 2px 2px 0 #000;">
            <div id="cpu-bar" style="height:100%; background:linear-gradient(90deg,#3a6ea5 0%,#6ec6ff 100%); width:0; transition:width 0.5s;"></div>
            <div id="cpu-text" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:#fff; font-size:11px; text-shadow:1px 1px 0 #000;">0%</div>
          </div>
        </div>

        <div style="margin-bottom:16px;">
          <div style="color:#008080; font-weight:bold; margin-bottom:6px;">Memory Usage:</div>
          <div style="background:#222; border:2px solid #888; height:20px; position:relative; box-shadow:inset 2px 2px 0 #000;">
            <div id="memory-bar" style="height:100%; background:linear-gradient(90deg,#3a8a3a 0%,#6ecf6e 100%); width:0; transition:width 0.5s;"></div>
            <div id="memory-text" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:#fff; font-size:11px; text-shadow:1px 1px 0 #000;">0%</div>
          </div>
        </div>

        <div>
          <div style="color:#008080; font-weight:bold; margin-bottom:6px;">GPU Usage:</div>
          <div style="background:#222; border:2px solid #888; height:20px; position:relative; box-shadow:inset 2px 2px 0 #000;">
            <div id="gpu-bar" style="height:100%; background:linear-gradient(90deg,#8a3a8a 0%,#cf6ecf 100%); width:0; transition:width 0.5s;"></div>
            <div id="gpu-text" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:#fff; font-size:11px; text-shadow:1px 1px 0 #000;">0%</div>
          </div>
        </div>
      </div>

      <!-- Active Applications Section -->
      <div style="background:#fff; border:2px solid #888; box-shadow:2px 2px 0 #000; padding:16px;">
        <div style="font-size:15px; color:#003399; font-weight:bold; margin-bottom:12px; border-bottom:2px solid #ddd; padding-bottom:8px;">Running Applications</div>
        <div id="running-apps" style="color:#444; font-size:12px; line-height:1.6;">
          <div style="margin-bottom:4px;">• Windows Explorer</div>
          <div style="margin-bottom:4px;">• Pixel Desktop XP</div>
          <div id="app-bonkhouse" style="margin-bottom:4px; display:none;">• BonkHouse Chat</div>
          <div id="app-letsbonk" style="margin-bottom:4px; display:none;">• letsBONK.fun</div>
          <div id="app-bonkx" style="margin-bottom:4px; display:none;">• Bonk X Twitter</div>
        </div>
      </div>
    </div>
  </div>
  <!-- Recycle Bin Donation Modal (initially hidden) -->
  <div id="recyclebin-modal" style="display:none; position:fixed; left:50%; top:50%; transform:translate(-50%,-50%); width:600px; max-width:90vw; z-index:300; box-shadow:8px 8px 0 #000; border:4px solid #fff; background:#fff; border-radius:0; font-family:'Press Start 2P',monospace;">
    <div style="background:#444; color:#fff; font-family:'Press Start 2P',monospace; border-bottom:2px solid #fff; height:38px; display:flex; align-items:center; justify-content:space-between; padding:0 18px; cursor:move;">
      <span style="font-size:16px; letter-spacing:1px;">Recycle Bin - Support Us</span>
      <button id="close-recyclebin-modal" style="background:#b22222; color:#fff; border:2px solid #fff; font-family:inherit; font-size:16px; width:32px; height:32px; cursor:pointer; box-shadow:2px 2px 0 #000;">X</button>
    </div>
    <div style="padding:24px 32px; color:#222; font-size:13px; line-height:1.7; background:#fff; max-height:70vh; overflow:auto;">
      <p style="font-weight:bold; color:#b8860b;">Dear Users and Supporters,</p>
      <p>We're a group of passionate developers dedicated to delivering better products and more intuitive experiences. Every line of code, every feature update—they all represent our commitment to excellence. Your trust and feedback have been the driving force behind our journey, and we couldn't have come this far without you.</p>
      <p style="font-weight:bold; color:#008080;">Your Support Matters</p>
      <p>Your contributions, no matter how small, keep our vision alive. Whether it's a bug report, a feature suggestion, or a token of appreciation, every gesture fuels our motivation to build something truly exceptional.</p>
      <p style="font-weight:bold; color:#b8860b;">How You Can Help</p>
      <p>If you believe in our work and wish to support us, consider sending your unused tokens, spare SOL, idle BTC, or unwanted ETH to the address below. Even a small donation helps us cover server costs, R&D, and maintain the project's sustainability.</p>
      <p style="background:#eee; color:#b22222; font-family:monospace; padding:8px 12px; border:2px dashed #b8860b; border-radius:0; margin:16px 0;">Donation Address:<br>[sol：81YXWfC91SF5T7VU8FRuijCzBwhNkdapRV4fjqPUmZtr]</p>
      <p style="background:#eee; color:#b22222; font-family:monospace; padding:8px 12px; border:2px dashed #b8860b; border-radius:0; margin:16px 0;">[btc：bc1pxpzd33jy57y05udwmpzta58ejptgmjuf94ru693r0ryph5lqfrfs6gea8m]</p>
      <p style="background:#eee; color:#b22222; font-family:monospace; padding:8px 12px; border:2px dashed #b8860b; border-radius:0; margin:16px 0;">[eth：0xbc5785b2b04a86baf9f095307b428674fd17f98d]</p>
      <p style="font-weight:bold; color:#008080;">Why This Matters</p>
      <ul style="margin-left:18px;">
        <li>Continue developing new features and fixing bugs</li>
        <li>Ensure long-term maintenance and security updates</li>
        <li>Expand our team and accelerate innovation</li>
      </ul>
      <p>Every contribution is deeply appreciated and will be used solely for the project's growth. As a community-driven initiative, we're committed to transparency and will regularly share updates on our progress.</p>
      <p style="font-weight:bold; color:#b8860b;">Thank you for being part of this journey. Together, we can build something extraordinary.</p>
      <p style="text-align:right; color:#888;">With gratitude,<br>dev</p>
    </div>
  </div>
  <!-- 开机按钮遮罩层 -->
  <div id="power-on-screen" style="position:fixed;z-index:10000;left:0;top:0;width:100vw;height:100vh;background:#111;display:flex;align-items:center;justify-content:center;">
    <button id="power-on-btn" style="font-family:'Press Start 2P',monospace;font-size:28px;padding:32px 64px;background:#003399;color:#fff;border:4px solid #fff;box-shadow:4px 4px 0 #000;cursor:pointer;border-radius:16px;">Power On</button>
  </div>

  <div id="boot-screen" style="position:fixed;z-index:9999;left:0;top:0;width:100vw;height:100vh;background:#003399;display:flex;flex-direction:column;align-items:center;justify-content:center;">
    <div style="margin-bottom:32px;display:flex;flex-direction:column;align-items:center;">
    
      <svg width="160" height="60" style="image-rendering:pixelated;">
        <rect x="0" y="0" width="160" height="60" fill="#003399"/>
    
        <rect x="20" y="18" width="16" height="8" fill="#f00"/>
        <rect x="36" y="18" width="16" height="8" fill="#ff0"/>
        <rect x="20" y="26" width="16" height="8" fill="#0f0"/>
        <rect x="36" y="26" width="16" height="8" fill="#00f"/>
       
        <text x="60" y="38" font-family="'Press Start 2P',monospace" font-size="18" fill="#fff">XP</text>
      </svg>
      <div style="font-family:'Press Start 2P',monospace;font-size:18px;color:#fff;text-align:center;margin-top:12px;letter-spacing:2px;">Windows XP</div>
    </div>

    <div style="position:relative;width:320px;height:48px;margin-bottom:8px;">
      <img id="boot-dog" src="pixel-dog.png" alt="dog" style="position:absolute;left:0;top:0;width:32px;height:32px;image-rendering:pixelated;" />
    
      <div style="position:absolute;left:0;bottom:0;width:320px;height:18px;background:#222;border:3px solid #fff;box-shadow:2px 2px 0 #000;display:flex;align-items:center;">
        <div id="boot-progress" style="height:100%;background:linear-gradient(90deg,#3a6ea5 0%,#6ec6ff 100%);width:0;"></div>
      </div>
    </div>
  </div>
  
  <div id="boot-dog-track" style="position:fixed;left:0;bottom:0;width:320px;height:320px;z-index:10001;pointer-events:none;display:none;overflow:visible;">
    <img id="boot-dog" src="pixel-dog.png" alt="dog" style="position:absolute;left:-60px;bottom:-60px;width:260px;height:260px;image-rendering:pixelated;" />
  </div>
  <div id="boot-dog2-track" style="position:fixed;right:0;bottom:0;width:320px;height:320px;z-index:10001;pointer-events:none;display:none;overflow:visible;">
    <img id="boot-dog2" src="pixel-dog2.png" alt="dog2" style="position:absolute;right:-60px;bottom:-60px;width:260px;height:260px;image-rendering:pixelated;" />
  </div>

  <div id="boot-popup" style="display:none;position:fixed;right:32px;bottom:64px;z-index:2000;width:340px;min-height:120px;background:#e3f0fd;border:4px solid #003399;box-shadow:4px 4px 0 #000;border-radius:8px;padding:18px 18px 12px 18px;display:flex;align-items:center;gap:16px;">
    <img id="boot-popup-img" src="xp-logo.png" alt="boot" style="width:64px;height:64px;image-rendering:pixelated;border:2px solid #888;background:#fff;box-shadow:2px 2px 0 #000;border-radius:8px;" />
    <div style="flex:1;">
      <div style="font-family:'Press Start 2P',monospace;font-size:15px;color:#003399;margin-bottom:8px;">This boot time：</div>
      <div id="boot-popup-time" style="font-family:'Press Start 2P',monospace;font-size:22px;color:#008080;font-weight:bold;"></div>
    </div>
  </div>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
  /* ...Insert here index (6).html中<style>...</style>
  </style>
  <script type="module">
</script>
  </script>
  <script>
 
  const chatIcon = document.getElementById('chat-desktop-icon');
  const chatWindow = document.getElementById('bonk-chat-window');
  const closeBtn = document.getElementById('close-bonk-chat-window');
  chatIcon.addEventListener('click', () => {
    chatWindow.style.display = 'block';
    const appBonkhouse = document.getElementById('app-bonkhouse');
    if (appBonkhouse) appBonkhouse.style.display = 'block';
  });
  closeBtn.addEventListener('click', () => {
    chatWindow.style.display = 'none';
    const appBonkhouse = document.getElementById('app-bonkhouse');
    if (appBonkhouse) appBonkhouse.style.display = 'none';
  });

  (function makeDraggable(win) {
    let isDown = false, offsetX = 0, offsetY = 0;
    const bar = win.firstElementChild;
    bar.addEventListener('mousedown', function(e) {
      isDown = true;
      offsetX = e.clientX - win.offsetLeft;
      offsetY = e.clientY - win.offsetTop;
      document.body.style.userSelect = 'none';
    });
    document.addEventListener('mousemove', function(e) {
      if (!isDown) return;
      win.style.left = (e.clientX - offsetX) + 'px';
      win.style.top = (e.clientY - offsetY) + 'px';
    });
    document.addEventListener('mouseup', function() {
      isDown = false;
      document.body.style.userSelect = '';
    });
  })(chatWindow);

  const letsBonkIcon = document.getElementById('letsBONK.fun');
  const letsBonkWindow = document.getElementById('letsbonk-window');
  const closeLetsBonkWindow = document.getElementById('close-letsbonk-window');
  letsBonkIcon.addEventListener('click', () => {
    letsBonkWindow.style.display = 'block';
    const appLetsbonk = document.getElementById('app-letsbonk');
    if (appLetsbonk) appLetsbonk.style.display = 'block';
  });
  closeLetsBonkWindow.addEventListener('click', () => {
    letsBonkWindow.style.display = 'none';
    const appLetsbonk = document.getElementById('app-letsbonk');
    if (appLetsbonk) appLetsbonk.style.display = 'none';
  });
  (function makeDraggable(win) {
    let isDown = false, offsetX = 0, offsetY = 0;
    const bar = win.firstElementChild;
    bar.addEventListener('mousedown', function(e) {
      isDown = true;
      offsetX = e.clientX - win.offsetLeft;
      offsetY = e.clientY - win.offsetTop;
      document.body.style.userSelect = 'none';
    });
    document.addEventListener('mousemove', function(e) {
      if (!isDown) return;
      win.style.left = (e.clientX - offsetX) + 'px';
      win.style.top = (e.clientY - offsetY) + 'px';
    });
    document.addEventListener('mouseup', function() {
      isDown = false;
      document.body.style.userSelect = '';
    });
  })(letsBonkWindow);
  // Recycle bin modal logic
  const recycleBinIcon = document.querySelectorAll('.desktop-icon')[3];
  const recycleBinModal = document.getElementById('recyclebin-modal');
  const closeRecycleBinModal = document.getElementById('close-recyclebin-modal');
  recycleBinIcon.addEventListener('click', () => {
    recycleBinModal.style.display = 'block';
  });
  closeRecycleBinModal.addEventListener('click', () => {
    recycleBinModal.style.display = 'none';
  });
  // Optional: Make recycle bin modal draggable
  (function makeDraggable(win) {
    let isDown = false, offsetX = 0, offsetY = 0;
    const bar = win.firstElementChild;
    bar.addEventListener('mousedown', function(e) {
      isDown = true;
      offsetX = e.clientX - win.offsetLeft;
      offsetY = e.clientY - win.offsetTop;
      document.body.style.userSelect = 'none';
    });
    document.addEventListener('mousemove', function(e) {
      if (!isDown) return;
      win.style.left = (e.clientX - offsetX) + 'px';
      win.style.top = (e.clientY - offsetY) + 'px';
    });
    document.addEventListener('mouseup', function() {
      isDown = false;
      document.body.style.userSelect = '';
    });
  })(recycleBinModal);

  // Bonk X window logic
  const bonkXIcon = document.getElementById('bonk-x-icon');
  const bonkXWindow = document.getElementById('bonkx-window');
  const closeBonkXWindow = document.getElementById('close-bonkx-window');
  bonkXIcon.addEventListener('click', () => {
    bonkXWindow.style.display = 'block';
    document.getElementById('app-bonkx').style.display = 'block';
  });
  closeBonkXWindow.addEventListener('click', () => {
    bonkXWindow.style.display = 'none';
    document.getElementById('app-bonkx').style.display = 'none';
  });
  (function makeDraggable(win) {
    let isDown = false, offsetX = 0, offsetY = 0;
    const bar = win.firstElementChild;
    bar.addEventListener('mousedown', function(e) {
      isDown = true;
      offsetX = e.clientX - win.offsetLeft;
      offsetY = e.clientY - win.offsetTop;
      document.body.style.userSelect = 'none';
    });
    document.addEventListener('mousemove', function(e) {
      if (!isDown) return;
      win.style.left = (e.clientX - offsetX) + 'px';
      win.style.top = (e.clientY - offsetY) + 'px';
    });
    document.addEventListener('mouseup', function() {
      isDown = false;
      document.body.style.userSelect = '';
    });
  })(bonkXWindow);

  // Control Panel window logic
  const controlPanelIcon = document.getElementById('control-panel-icon');
  const controlPanelWindow = document.getElementById('control-panel-window');
  const closeControlPanelWindow = document.getElementById('close-control-panel-window');
  controlPanelIcon.addEventListener('click', () => {
    controlPanelWindow.style.display = 'block';
    startPerformanceMonitoring();
  });
  closeControlPanelWindow.addEventListener('click', () => {
    controlPanelWindow.style.display = 'none';
    stopPerformanceMonitoring();
  });
  (function makeDraggable(win) {
    let isDown = false, offsetX = 0, offsetY = 0;
    const bar = win.firstElementChild;
    bar.addEventListener('mousedown', function(e) {
      isDown = true;
      offsetX = e.clientX - win.offsetLeft;
      offsetY = e.clientY - win.offsetTop;
      document.body.style.userSelect = 'none';
    });
    document.addEventListener('mousemove', function(e) {
      if (!isDown) return;
      win.style.left = (e.clientX - offsetX) + 'px';
      win.style.top = (e.clientY - offsetY) + 'px';
    });
    document.addEventListener('mouseup', function() {
      isDown = false;
      document.body.style.userSelect = '';
    });
  })(controlPanelWindow);

  // Performance monitoring system
  let performanceInterval;
  function startPerformanceMonitoring() {
    if (performanceInterval) clearInterval(performanceInterval);
    
    performanceInterval = setInterval(() => {
      // Simulate CPU usage (10-90%)
      const cpuUsage = Math.floor(Math.random() * 80) + 10;
      document.getElementById('cpu-bar').style.width = cpuUsage + '%';
      document.getElementById('cpu-text').textContent = cpuUsage + '%';
      
      // Simulate Memory usage (20-85%)
      const memoryUsage = Math.floor(Math.random() * 65) + 20;
      document.getElementById('memory-bar').style.width = memoryUsage + '%';
      document.getElementById('memory-text').textContent = memoryUsage + '%';
      
      // Simulate GPU usage (5-70%)
      const gpuUsage = Math.floor(Math.random() * 65) + 5;
      document.getElementById('gpu-bar').style.width = gpuUsage + '%';
      document.getElementById('gpu-text').textContent = gpuUsage + '%';
    }, 1500);
  }
  
  function stopPerformanceMonitoring() {
    if (performanceInterval) {
      clearInterval(performanceInterval);
      performanceInterval = null;
    }
  }
  </script>
  <div class="taskbar">
    <button class="start-btn" id="startBtn">Begin</button>
    <div class="taskbar-icons">
      <div class="icon"><div class="pixel-folder"></div></div>
      <div class="icon"><div class="pixel-notepad"></div></div>
      <div class="icon"><div class="pixel-chat"></div></div>
    </div>
    <div class="start-menu" id="startMenu">
      <div class="menu-item">procedure</div>
      <div class="menu-item">Set up</div>
      <div class="menu-item">Shutdown</div>
    </div>
  </div>
  <script>
   
    const startBtn = document.getElementById('startBtn');
    const startMenu = document.getElementById('startMenu');
    startBtn.addEventListener('click', () => {
      startMenu.classList.toggle('active');
    });
    document.addEventListener('click', (e) => {
      if (!startBtn.contains(e.target) && !startMenu.contains(e.target)) {
        startMenu.classList.remove('active');
      }
    });
  </script>
  <script>

  (function(){
    const powerScreen = document.getElementById('power-on-screen');
    const powerBtn = document.getElementById('power-on-btn');
    const bootScreen = document.getElementById('boot-screen');
  
    bootScreen.style.display = 'none';
   
    powerBtn.addEventListener('click', function(){
      powerScreen.style.display = 'none';
      bootScreen.style.display = '';
  
      if(window.startXPBoot) window.startXPBoot();
    });
  })();

  window.startXPBoot = function(){
    const bootScreen = document.getElementById('boot-screen');
    const bootProgress = document.getElementById('boot-progress');
    const bootPopup = document.getElementById('boot-popup');
    const bootPopupTime = document.getElementById('boot-popup-time');
    const bootAudio = document.getElementById('xp-boot-audio');
    const bootDog = document.getElementById('boot-dog');
    const dogTrack = document.getElementById('boot-dog-track');
    const bootDog2 = document.getElementById('boot-dog2');
    const dog2Track = document.getElementById('boot-dog2-track');

    dogTrack.style.display = 'block';
    dog2Track.style.display = 'block';

    if(bootAudio){
      bootAudio.currentTime = 0;
      bootAudio.volume = 0.7;
      bootAudio.play().catch(()=>{});
    }
    let start = Date.now();
    let duration = 2500 + Math.random()*1200; // 2.5~3.7s
    function animate(){
      let now = Date.now();
      let elapsed = now - start;
      let progress = Math.min(elapsed/duration,1);
      bootProgress.style.width = Math.floor(progress*320) + 'px';
      if(progress<1){
        requestAnimationFrame(animate);
      }else{
        setTimeout(()=>{
          bootScreen.style.display = 'none';
          dogTrack.style.display = 'none';
          dog2Track.style.display = 'none';
         
          let used = ((Date.now()-start)/1000).toFixed(2);
          bootPopupTime.textContent = used + ' s';
          bootPopup.style.display = 'flex';
        
          setTimeout(()=>{bootPopup.style.display='none';},3000);
        },400);
      }
    }
    animate();
  }
 
  </script>
 
  <audio id="xp-boot-audio" src="xp-boot.mp3" preload="auto"></audio>
  <!-- My Computer Modal -->
  <div id="my-computer-modal" style="display:none; position:fixed; left:120px; top:120px; width:600px; height:420px; z-index:350; box-shadow:8px 8px 0 #000; border:4px solid #fff; background:#e3e3e3; border-radius:0; font-family:'Press Start 2P',monospace;">
    <div style="background:#444; color:#fff; font-family:'Press Start 2P',monospace; border-bottom:2px solid #fff; height:38px; display:flex; align-items:center; justify-content:space-between; padding:0 18px; cursor:move;">
      <span style="font-size:16px; letter-spacing:1px;">Pixel Computer Settings</span>
      <button id="close-my-computer-modal" style="background:#b22222; color:#fff; border:2px solid #fff; font-family:inherit; font-size:16px; width:32px; height:32px; cursor:pointer; box-shadow:2px 2px 0 #000;">X</button>
    </div>
    <div style="padding:24px 32px; color:#222; font-size:13px; line-height:1.7; background:#e3e3e3; max-height:calc(100% - 38px); overflow:auto;">
      <div style="margin-bottom:18px;">
        <div style="font-size:15px; color:#003399; font-weight:bold; margin-bottom:8px;">Wallpaper</div>
        <div style="display:flex; gap:16px;">
          <div class="wallpaper-thumb" data-wallpaper="1.jpg" style="width:64px; height:48px; background:url('1.jpg') center/cover; border:2px solid #888; box-shadow:2px 2px 0 #000; cursor:pointer;"></div>
          <div class="wallpaper-thumb" data-wallpaper="22.jpg" style="width:64px; height:48px; background:url('22.jpg') center/cover; border:2px solid #888; box-shadow:2px 2px 0 #000; opacity:0.5; cursor:pointer;"></div>
          <div class="wallpaper-thumb" data-wallpaper="3.jpg" style="width:64px; height:48px; background:url('3.jpg') center/cover; border:2px solid #888; box-shadow:2px 2px 0 #000; opacity:0.5; cursor:pointer;"></div>
        </div>
      </div>
      <div style="margin-bottom:18px;">
        <div style="font-size:15px; color:#003399; font-weight:bold; margin-bottom:8px;">Resolution</div>
        <div style="display:flex; gap:16px;">
          <div style="padding:6px 18px; background:#fff; border:2px solid #888; box-shadow:2px 2px 0 #000; color:#003399;">1024x768</div>
          <div style="padding:6px 18px; background:#fff; border:2px solid #888; box-shadow:2px 2px 0 #000; color:#888; opacity:0.5;">800x600</div>
        </div>
      </div>
      <div style="margin-bottom:18px;">
        <div style="font-size:15px; color:#003399; font-weight:bold; margin-bottom:8px;">Theme</div>
        <div style="display:flex; gap:16px;">
          <div style="padding:6px 18px; background:#fff; border:2px solid #888; box-shadow:2px 2px 0 #000; color:#003399;">Classic</div>
          <div style="padding:6px 18px; background:#fff; border:2px solid #888; box-shadow:2px 2px 0 #000; color:#888; opacity:0.5;">Pixel XP</div>
        </div>
      </div>
      <div style="position:absolute; right:24px; bottom:18px;">
        <button id="save-my-computer-settings" style="font-family:'Press Start 2P',monospace; font-size:14px; padding:10px 28px; background:#008080; color:#fff; border:2px solid #fff; box-shadow:2px 2px 0 #000; border-radius:8px; cursor:pointer;">Save Settings</button>
      </div>
    </div>
  </div>
  <!-- Permission Denied Modal -->
  <div id="permission-denied-modal" style="display:none; position:fixed; left:50%; top:50%; transform:translate(-50%,-50%); width:380px; z-index:400; box-shadow:8px 8px 0 #000; border:4px solid #fff; background:#fff; border-radius:0; font-family:'Press Start 2P',monospace;">
    <div style="background:#b22222; color:#fff; font-family:'Press Start 2P',monospace; border-bottom:2px solid #fff; height:38px; display:flex; align-items:center; justify-content:space-between; padding:0 18px;">
      <span style="font-size:16px; letter-spacing:1px;">Permission Denied</span>
      <button id="close-permission-denied-modal" style="background:#fff; color:#b22222; border:2px solid #b22222; font-family:inherit; font-size:16px; width:32px; height:32px; cursor:pointer; box-shadow:2px 2px 0 #000;">X</button>
    </div>
    <div style="padding:32px 24px; color:#b22222; font-size:15px; text-align:center;">
      <div style="font-size:18px; font-weight:bold; margin-bottom:12px;">This is not your computer!</div>
      <div style="font-size:14px; color:#444;">You do not have permission to change these settings.</div>
    </div>
  </div>
  <script>
  // My Computer modal logic
  const myComputerIcon = document.getElementById('my-computer-icon');
  const myComputerModal = document.getElementById('my-computer-modal');
  const closeMyComputerModal = document.getElementById('close-my-computer-modal');
  const saveMyComputerSettings = document.getElementById('save-my-computer-settings');
  const permissionDeniedModal = document.getElementById('permission-denied-modal');
  const closePermissionDeniedModal = document.getElementById('close-permission-denied-modal');


  const wallpaperThumbs = document.querySelectorAll('.wallpaper-thumb');
  const body = document.body;
  let defaultWallpaper = "1.jpg";
  let lastWallpaper = defaultWallpaper;

  if (body.style.backgroundImage) {
    const match = body.style.backgroundImage.match(/url\(['"]?([^'"]+)['"]?\)/);
    if (match) defaultWallpaper = match[1];
  }
  wallpaperThumbs.forEach(thumb => {
    thumb.addEventListener('click', function() {
      wallpaperThumbs.forEach(t => t.style.opacity = '0.5');
      this.style.opacity = '1';
      const img = this.getAttribute('data-wallpaper');
      body.style.backgroundImage = `url('${img}')`;
      lastWallpaper = img;
    });
  });

  myComputerIcon.addEventListener('click', () => {
    myComputerModal.style.display = 'block';
    wallpaperThumbs.forEach(thumb => {
      if (body.style.backgroundImage.includes(thumb.getAttribute('data-wallpaper'))) {
        thumb.style.opacity = '1';
      } else {
        thumb.style.opacity = '0.5';
      }
    });
  });
  closeMyComputerModal.addEventListener('click', () => {
    myComputerModal.style.display = 'none';
    // 恢复默认壁纸
    body.style.backgroundImage = `url('${defaultWallpaper}')`;
    wallpaperThumbs.forEach(thumb => {
      if (thumb.getAttribute('data-wallpaper') === defaultWallpaper) {
        thumb.style.opacity = '1';
      } else {
        thumb.style.opacity = '0.5';
      }
    });
  });
  // Make My Computer modal draggable
  (function makeDraggable(win) {
    let isDown = false, offsetX = 0, offsetY = 0;
    const bar = win.firstElementChild;
    bar.addEventListener('mousedown', function(e) {
      isDown = true;
      offsetX = e.clientX - win.offsetLeft;
      offsetY = e.clientY - win.offsetTop;
      document.body.style.userSelect = 'none';
    });
    document.addEventListener('mousemove', function(e) {
      if (!isDown) return;
      win.style.left = (e.clientX - offsetX) + 'px';
      win.style.top = (e.clientY - offsetY) + 'px';
    });
    document.addEventListener('mouseup', function() {
      isDown = false;
      document.body.style.userSelect = '';
    });
  })(myComputerModal);

  saveMyComputerSettings.addEventListener('click', () => {
    permissionDeniedModal.style.display = 'block';
  });
  closePermissionDeniedModal.addEventListener('click', () => {
    permissionDeniedModal.style.display = 'none';
  });
  </script>
</body>
</html>
